<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Trójmian kwadratowy</title>
</head>

<body>

<h2>Trójmian kwadratowy</h2>

a: <input type="number" id="a_mul" value="1">
b: <input type="number" id="b_mul" value="0">
c: <input type="number" id="c_mul" value="0">

<br><br>

<button onclick="pokazDelta()">Pokaż deltę i pierwiastki</button><br>
<button onclick="pokazWierzch()">Pokaż wierzchołek</button><br>
<button onclick="pokazKanoniczna()">Pokaż postać kanoniczną</button><br>
<button onclick="pokazIloczynowa()">Pokaż postać iloczynową</button><br>
<button onclick="pokazPrzedzialy()">Pokaż przedziały funkcji</button><br>
<button onclick="pokazZbior()">Pokaż zbiór wartości</button><br>
<button onclick="pokazZnak()">Pokaż znak funkcji</button>

<div id="wynik"></div>

<script>
function pobierzWartosci() {
    var a_mul = parseFloat(document.getElementById("a_mul").value);
    var b_mul = parseFloat(document.getElementById("b_mul").value);
    var c_mul = parseFloat(document.getElementById("c_mul").value);
    return { a_mul, b_mul, c_mul };
}

function pokazDelta() {
    var { a_mul, b_mul, c_mul } = pobierzWartosci();
    var wynik = document.getElementById("wynik");

    if (a_mul === 0) {
        wynik.innerHTML = "To nie jest funkcja kwadratowa";
        return;
    }

    var delta_mul = b_mul*b_mul - 4*a_mul*c_mul;
    var x1_mul, x2_mul;

    if (delta_mul > 0) {
        x1_mul = (-b_mul - Math.sqrt(delta_mul)) / (2*a_mul);
        x2_mul = (-b_mul + Math.sqrt(delta_mul)) / (2*a_mul);
    } else if (delta_mul === 0) {
        x1_mul = x2_mul = -b_mul / (2*a_mul);
    } else {
        x1_mul = x2_mul = "brak";
    }

    wynik.innerHTML =
        "<b>Delta:</b> " + delta_mul + "<br>" +
        "<b>Pierwiastek 1:</b> " + x1_mul + "<br>" +
        "<b>Pierwiastek 2:</b> " + x2_mul;
}

function pokazWierzch() {
    var { a_mul, b_mul, c_mul } = pobierzWartosci();
    var w_x = -b_mul / (2*a_mul);
    var w_y = a_mul*w_x*w_x + b_mul*w_x + c_mul;

    document.getElementById("wynik").innerHTML =
        "<b>Wierzchołek:</b> [" + w_x + " ; " + w_y + "]";
}

function pokazKanoniczna() {
    var { a_mul, b_mul, c_mul } = pobierzWartosci();
    var w_x = -b_mul / (2*a_mul);
    var w_y = a_mul*w_x*w_x + b_mul*w_x + c_mul;

    var tekst =
        a_mul + "(x - " + w_x + ")² " +
        (w_y >= 0 ? "+ " : "- ") + Math.abs(w_y);

    document.getElementById("wynik").innerHTML =
        "<b>Postać kanoniczna:</b> " + tekst;
}

function pokazIloczynowa() {
    var { a_mul, b_mul, c_mul } = pobierzWartosci();
    var delta = b_mul*b_mul - 4*a_mul*c_mul;
    var tekst;

    if (delta > 0) {
        var x1 = (-b_mul - Math.sqrt(delta)) / (2*a_mul);
        var x2 = (-b_mul + Math.sqrt(delta)) / (2*a_mul);
        tekst = a_mul + "(x - " + x1 + ")(x - " + x2 + ")";
    } else if (delta === 0) {
        var x = -b_mul / (2*a_mul);
        tekst = a_mul + "(x - " + x + ")²";
    } else {
        tekst = "brak miejsc zerowych";
    }

    document.getElementById("wynik").innerHTML =
        "<b>Postać iloczynowa:</b> " + tekst;
}

function pokazPrzedzialy() {
    var { a_mul, b_mul } = pobierzWartosci();
    var w_x = -b_mul / (2*a_mul);

    var tekst = a_mul > 0
        ? "maleje: (-∞ ; " + w_x + "), rośnie: (" + w_x + " ; +∞)"
        : "rośnie: (-∞ ; " + w_x + "), maleje: (" + w_x + " ; +∞)";

    document.getElementById("wynik").innerHTML =
        "<b>Przedziały funkcji:</b> " + tekst;
}

function pokazZbior() {
    var { a_mul, b_mul, c_mul } = pobierzWartosci();
    var w_x = -b_mul / (2*a_mul);
    var w_y = a_mul*w_x*w_x + b_mul*w_x + c_mul;

    var tekst = a_mul > 0
        ? "f(x) ≥ " + w_y
        : "f(x) ≤ " + w_y;

    document.getElementById("wynik").innerHTML =
        "<b>Zbiór wartości:</b> " + tekst;
}

function pokazZnak() {
    var { a_mul, b_mul, c_mul } = pobierzWartosci();
    var delta = b_mul*b_mul - 4*a_mul*c_mul;
    var tekst;

    if (delta > 0) {
        var x1 = (-b_mul - Math.sqrt(delta)) / (2*a_mul);
        var x2 = (-b_mul + Math.sqrt(delta)) / (2*a_mul);
        tekst = a_mul > 0
            ? "f(x) > 0 dla x ∈ (-∞ ; " + x1 + ") ∪ (" + x2 + " ; +∞)"
            : "f(x) > 0 dla x ∈ (" + x1 + " ; " + x2 + ")";
    } else if (delta === 0) {
        var x = -b_mul / (2*a_mul);
        tekst = a_mul > 0
            ? "f(x) > 0 dla x ≠ " + x
            : "f(x) > 0 – brak";
    } else {
        tekst = a_mul > 0
            ? "f(x) > 0 dla każdego x"
            : "f(x) < 0 dla każdego x";
    }

    document.getElementById("wynik").innerHTML =
        "<b>Znak funkcji:</b> " + tekst;
}
</script>

</body>
</html>
